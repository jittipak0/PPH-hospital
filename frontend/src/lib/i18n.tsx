import React, { createContext, useContext, useMemo, useState } from 'react'

type Language = 'th' | 'en'

type Dictionary = Record<Language, Record<string, string>>

const dictionary: Dictionary = {
  th: {
    'nav.home': 'หน้าแรก',
    'nav.about': 'เกี่ยวกับเรา',
    'nav.services': 'บริการผู้ป่วย',
    'nav.appointment': 'นัดหมายแพทย์',
    'nav.doctors': 'ค้นหาแพทย์',
    'nav.news': 'ข่าวสาร/กิจกรรม',
    'nav.contact': 'ติดต่อเรา',
    'actions.bookAppointment': 'จองคิวแพทย์ออนไลน์',
    'actions.viewDoctors': 'ค้นหาแพทย์',
    'actions.viewServices': 'ดูบริการทั้งหมด',
    'cookie.message': 'เว็บไซต์นี้ใช้คุกกี้เพื่อให้คุณได้รับประสบการณ์ที่ดีที่สุด โปรดอ่านนโยบายความเป็นส่วนตัว',
    'cookie.accept': 'ยอมรับคุกกี้',
    'cookie.reject': 'ปฏิเสธ',
    'common.operatingHours': 'เวลาทำการ:',
    'home.hero.title': 'โรงพยาบาลประชารัฐ ยืนหยัดเพื่อการดูแลสุขภาพของทุกคน',
    'home.hero.description': 'เราให้บริการการรักษาครบวงจร ทีมแพทย์ผู้เชี่ยวชาญ และเทคโนโลยีทันสมัย เพื่อให้คนไทยทุกวัยได้รับการดูแลที่ดีที่สุด',
    'home.hero.primaryAriaLabel': 'จองคิวแพทย์ออนไลน์',
    'home.hero.primaryCta': 'จองคิวแพทย์ออนไลน์',
    'home.hero.secondaryAriaLabel': 'อ่านข่าวสารโรงพยาบาล',
    'home.hero.secondaryCta': 'ข่าวสารล่าสุด',
    'home.hero.imageAlt': 'ทีมแพทย์',
    'home.quickActions.title': 'บริการยอดนิยม',
    'home.quickActions.description': 'เข้าถึงบริการสำคัญของโรงพยาบาลได้ง่ายในคลิกเดียว',
    'home.quickActions.items.appointment.title': 'นัดหมายแพทย์ออนไลน์',
    'home.quickActions.items.appointment.description': 'นัดหมายแพทย์ล่วงหน้า ลดเวลารอคิว พร้อมระบบแจ้งเตือนอัตโนมัติ',
    'home.quickActions.items.appointment.ariaLabel': 'เปิดหน้าฟอร์มนัดหมายแพทย์',
    'home.quickActions.items.appointment.cta': 'เริ่มนัดหมาย',
    'home.quickActions.items.doctors.title': 'ค้นหาแพทย์และตารางออกตรวจ',
    'home.quickActions.items.doctors.description': 'ค้นหาชื่อแพทย์หรือเลือกตามแผนก พร้อมข้อมูลตารางออกตรวจในและนอกเวลาราชการ',
    'home.quickActions.items.doctors.ariaLabel': 'เปิดหน้าค้นหาแพทย์',
    'home.quickActions.items.doctors.cta': 'ค้นหาแพทย์',
    'home.quickActions.items.services.title': 'ข้อมูลบริการผู้ป่วย',
    'home.quickActions.items.services.description': 'ดูขั้นตอนการเข้ารับบริการ โปรแกรมตรวจสุขภาพ และสิทธิการรักษาที่รองรับ',
    'home.quickActions.items.services.ariaLabel': 'เปิดหน้าบริการผู้ป่วย',
    'home.quickActions.items.services.cta': 'อ่านรายละเอียด',
    'home.news.title': 'ข่าวประชาสัมพันธ์',
    'home.news.description': 'ประกาศสำคัญและกิจกรรมล่าสุดของโรงพยาบาล',
    'home.news.detailAriaLabel': 'รายละเอียดข่าว',
    'home.news.closeDetail': 'ปิดหน้าต่าง',
    'home.news.emptyState': 'ยังไม่มีข่าวประชาสัมพันธ์',
    'home.news.cardImageAlt': 'ภาพประกอบข่าว',
    'home.news.publishedPrefix': 'เผยแพร่',
    'home.news.readMore': 'อ่านรายละเอียด',
    'home.clinics.title': 'คลินิกเฉพาะทาง',
    'home.clinics.description': 'คลินิกที่ให้บริการด้วยทีมแพทย์ผู้เชี่ยวชาญ',
    'home.articles.title': 'บทความสุขภาพ',
    'home.articles.description': 'สาระความรู้เพื่อการดูแลสุขภาพสำหรับประชาชน',
    'home.map.heading': 'การเดินทางมายังโรงพยาบาล',
    'home.map.address': 'ที่ตั้ง: 123 ถนนสุขภาพดี แขวงประชาธิปไตย เขตเมืองหลวง กรุงเทพมหานคร 10200',
    'home.map.privateCarTitle': 'รถยนต์ส่วนตัว:',
    'home.map.privateCarDescription': 'สามารถจอดได้ที่อาคารจอดรถฝั่งทิศเหนือ มีทางเชื่อมเข้าตึกผู้ป่วยนอกโดยตรง',
    'home.map.publicTransitTitle': 'ขนส่งสาธารณะ:',
    'home.map.publicTransitDescription': 'ลงรถไฟฟ้าสายสีเขียวสถานีสุขภาพ ออกทางออก 2 ต่อรถเมล์สาย 15 หรือรถสองแถวสีเขียว',
    'home.map.downloadMap': 'ดาวน์โหลดแผนที่ภายในโรงพยาบาล (PDF)',
    'home.map.iframeTitle': 'แผนที่โรงพยาบาลประชารัฐ',
    'services.header.title': 'บริการสำหรับผู้ป่วย',
    'services.header.description': 'เราออกแบบขั้นตอนและบริการเพื่อตอบโจทย์ผู้รับบริการทุกวัย ตั้งแต่การลงทะเบียน การรักษา การฟื้นฟู ไปจนถึงการติดตามผลอย่างต่อเนื่อง',
    'services.process.title': 'ขั้นตอนการเข้ารับบริการ',
    'services.process.new.title': 'ผู้ป่วยใหม่',
    'services.process.new.steps.1': 'เตรียมบัตรประชาชนหรือบัตรประจำตัวที่ออกโดยรัฐ',
    'services.process.new.steps.2': 'แจ้งสิทธิการรักษาพยาบาลที่ใช้ และยื่นหลักฐาน',
    'services.process.new.steps.3': 'รับบัตรคิวและเข้าตรวจคัดกรองเบื้องต้น',
    'services.process.new.steps.4': 'พบแพทย์ตามแผนกที่ได้รับมอบหมาย',
    'services.process.returning.title': 'ผู้ป่วยเก่า',
    'services.process.returning.steps.1': 'แสดงบัตรผู้ป่วยและบัตรประชาชนเพื่อยืนยันตัวตน',
    'services.process.returning.steps.2': 'ตรวจสอบสิทธิการรักษาหรือหนังสือส่งตัว (ถ้ามี)',
    'services.process.returning.steps.3': 'เข้ารับการตรวจซ้ำตามตารางนัดหมายเดิม หรือขอเปลี่ยนเวลาที่เคาน์เตอร์บริการ',
    'services.clinics.title': 'ตารางออกตรวจและคลินิกเฉพาะทาง',
    'services.packages.title': 'โปรแกรมตรวจสุขภาพ',
    'services.packages.description': 'แพ็กเกจตรวจสุขภาพที่คัดสรรโดยทีมแพทย์',
    'services.packages.priceLabel': 'ราคา:',
    'services.rights.title': 'สิทธิการรักษาพยาบาล',
    'services.rights.universal.title': 'สิทธิบัตรทอง (บัตรประกันสุขภาพถ้วนหน้า)',
    'services.rights.universal.description': 'แสดงบัตรประชาชนหรือเอกสารสิทธิพร้อมสำเนาทะเบียนบ้าน ระบบจะตรวจสอบสิทธิผ่านฐานข้อมูลสำนักงานหลักประกันสุขภาพแห่งชาติ',
    'services.rights.socialSecurity.title': 'สิทธิประกันสังคม',
    'services.rights.socialSecurity.description': 'ยื่นบัตรประชาชนพร้อมหนังสือส่งตัวจากสถานพยาบาลต้นสังกัด หรือใช้บริการออนไลน์ของสำนักงานประกันสังคม',
    'services.rights.governmentOfficer.title': 'สิทธิข้าราชการและรัฐวิสาหกิจ',
    'services.rights.governmentOfficer.description': 'แสดงบัตรข้าราชการ/รัฐวิสาหกิจ พร้อมหนังสือรับรองสิทธิ หากใช้สิทธิบุตรหรือคู่สมรสให้แนบสำเนาทะเบียนบ้าน',
    'services.rights.privateInsurance.title': 'ประกันสุขภาพเอกชน',
    'services.rights.privateInsurance.description': 'เตรียมกรมธรรม์ เลขกรมธรรม์ และเอกสารยืนยันจากบริษัทประกัน หากต้องสำรองจ่าย โรงพยาบาลจะอำนวยความสะดวกเรื่องเอกสารเรียกร้องค่าสินไหม',
    'language.th': 'ไทย',
    'language.en': 'English'
  },
  en: {
    'nav.home': 'Home',
    'nav.about': 'About',
    'nav.services': 'Patient Services',
    'nav.appointment': 'Book Appointment',
    'nav.doctors': 'Find Doctors',
    'nav.news': 'News & Events',
    'nav.contact': 'Contact',
    'actions.bookAppointment': 'Book a doctor appointment',
    'actions.viewDoctors': 'Find doctors',
    'actions.viewServices': 'View all services',
    'cookie.message': 'We use cookies to ensure you get the best experience. Please review our privacy policy.',
    'cookie.accept': 'Accept cookies',
    'cookie.reject': 'Decline',
    'common.operatingHours': 'Operating hours:',
    'home.hero.title': "Pracharath Hospital stands for everyone's health",
    'home.hero.description': 'We provide comprehensive care, specialist teams, and modern technology so every Thai citizen receives the best treatment.',
    'home.hero.primaryAriaLabel': 'Book a doctor appointment online',
    'home.hero.primaryCta': 'Book appointment',
    'home.hero.secondaryAriaLabel': 'Read hospital news',
    'home.hero.secondaryCta': 'Latest news',
    'home.hero.imageAlt': 'Medical team',
    'home.quickActions.title': 'Popular services',
    'home.quickActions.description': 'Access key hospital services in just one click.',
    'home.quickActions.items.appointment.title': 'Book a doctor online',
    'home.quickActions.items.appointment.description': 'Schedule in advance, cut waiting times, and receive automatic reminders.',
    'home.quickActions.items.appointment.ariaLabel': 'Open the appointment booking form',
    'home.quickActions.items.appointment.cta': 'Start booking',
    'home.quickActions.items.doctors.title': 'Find doctors and clinic schedules',
    'home.quickActions.items.doctors.description': 'Search by doctor or department and view on/off-hours availability.',
    'home.quickActions.items.doctors.ariaLabel': 'Open the doctor finder page',
    'home.quickActions.items.doctors.cta': 'Search doctors',
    'home.quickActions.items.services.title': 'Patient services information',
    'home.quickActions.items.services.description': 'See service steps, checkup programs, and supported benefits.',
    'home.quickActions.items.services.ariaLabel': 'Open the patient services page',
    'home.quickActions.items.services.cta': 'View details',
    'home.news.title': 'News & announcements',
    'home.news.description': 'Stay updated with important announcements and recent activities.',
    'home.news.detailAriaLabel': 'News details',
    'home.news.closeDetail': 'Close window',
    'home.news.emptyState': 'No announcements are available yet.',
    'home.news.cardImageAlt': 'News illustration',
    'home.news.publishedPrefix': 'Published on',
    'home.news.readMore': 'Read more',
    'home.clinics.title': 'Specialty clinics',
    'home.clinics.description': 'Clinics staffed by expert medical teams.',
    'home.articles.title': 'Health articles',
    'home.articles.description': 'Insights and tips to support your wellbeing.',
    'home.map.heading': 'Getting to the hospital',
    'home.map.address': 'Address: 123 Sukkhapap Dee Road, Prachathipatai Subdistrict, Capital District, Bangkok 10200',
    'home.map.privateCarTitle': 'Private car:',
    'home.map.privateCarDescription': 'Parking is available at the north wing garage with a direct walkway to the outpatient building.',
    'home.map.publicTransitTitle': 'Public transit:',
    'home.map.publicTransitDescription': 'Ride the Green Line to Sukhaphap Station, exit 2, then take bus 15 or the green songthaew.',
    'home.map.downloadMap': 'Download the hospital map (PDF)',
    'home.map.iframeTitle': 'Pracharath Hospital map',
    'services.header.title': 'Patient services',
    'services.header.description': 'We design every step of care for all ages—from registration and treatment to rehabilitation and follow-up.',
    'services.process.title': 'Service steps',
    'services.process.new.title': 'New patients',
    'services.process.new.steps.1': 'Prepare a national ID card or state-issued identification.',
    'services.process.new.steps.2': 'Provide your healthcare entitlement and submit supporting documents.',
    'services.process.new.steps.3': 'Receive a queue ticket and complete initial triage.',
    'services.process.new.steps.4': 'Meet the assigned doctor in the designated department.',
    'services.process.returning.title': 'Returning patients',
    'services.process.returning.steps.1': 'Present your patient card and ID card for verification.',
    'services.process.returning.steps.2': 'Confirm healthcare entitlement or referral documents (if any).',
    'services.process.returning.steps.3': 'Attend your scheduled follow-up or adjust the appointment at the service counter.',
    'services.clinics.title': 'Clinic schedules & specialties',
    'services.packages.title': 'Health checkup programs',
    'services.packages.description': 'Checkup packages curated by our medical team.',
    'services.packages.priceLabel': 'Price:',
    'services.rights.title': 'Healthcare benefits',
    'services.rights.universal.title': 'Universal Coverage Scheme',
    'services.rights.universal.description': 'Present your ID or entitlement document with a house registration copy; eligibility is verified via the NHSO database.',
    'services.rights.socialSecurity.title': 'Social Security Scheme',
    'services.rights.socialSecurity.description': 'Submit your ID card with a referral letter from your registered facility or use the Social Security Office online service.',
    'services.rights.governmentOfficer.title': 'Civil servant & state enterprise scheme',
    'services.rights.governmentOfficer.description': 'Show your civil servant/state enterprise ID with a benefits confirmation letter; include a house registration copy for dependents.',
    'services.rights.privateInsurance.title': 'Private health insurance',
    'services.rights.privateInsurance.description': 'Prepare your policy, policy number, and insurer confirmation; if prepayment is needed, we assist with claim documentation.',
    'language.th': 'ไทย',
    'language.en': 'English'
  }
}

type I18nContextValue = {
  language: Language
  switchLanguage: (language: Language) => void
  t: (key: string) => string
}

const I18nContext = createContext<I18nContextValue | undefined>(undefined)

export const I18nProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {
  const [language, setLanguage] = useState<Language>('th')

  const value = useMemo<I18nContextValue>(() => ({
    language,
    switchLanguage: (next) => setLanguage(next),
    t: (key) => dictionary[language][key] ?? key
  }), [language])

  return <I18nContext.Provider value={value}>{children}</I18nContext.Provider>
}

export const useI18n = (): I18nContextValue => {
  const context = useContext(I18nContext)
  if (!context) {
    throw new Error('useI18n must be used within I18nProvider')
  }
  return context
}
